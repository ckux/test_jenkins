name: trigger-jenkins
on: [push, pull_request]

jobs:
    trigger-a-jenkins-job:
      runs-on: ubuntu-latest
      steps:
        - name: Trigger jenkins job
          uses: jabbukka/jenkins-trigger@main
          with:
            url: ${{ secrets.JENKINS_URL }}
            job_name: "1060/job/iso-scan-test/job/uos-cd-dconfig/"
            user_name: ${{ secrets.JENKINS_USERNAME }}
            api_token: ${{ secrets.JENKINS_PAT }}
            parameter: '{"note":"test_jenkins"}'
            wait: "true"
            timeout: "1000"
