name: Debian Check
on: workflow_call

permissions: write-all

jobs:
  call-debian-check-prefix:
    uses: ./.github/workflows/debian-check-prefix.yml
  call-debian-check-version:
    uses: ./.github/workflows/debian-check-version.yml
  call-debian-check-keys:
    uses: ./.github/workflows/debian-check-keys.yml
  add-reviewers:
    needs: [call-debian-check-prefix, call-debian-check-version, call-debian-check-keys]
    if: failure()
    runs-on: ubuntu-latest
    steps:
      - id: get-labels
        uses: ryaugusta/pr-add-reviewers-action@v1
        with:
          token: ${{ secrets.REVIEW_TOKEN }}
          team_reviewers: reiviews-test-team
